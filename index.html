<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatório de Comparação: Documentos vs Backup</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/css/jquery.dataTables.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }
        body {
            background-color: #111827;
            color: #f3f4f6;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .flex {
            display: flex;
        }
        .flex-col {
            flex-direction: column;
        }
        .space-y-6 > * + * {
            margin-top: 1.5rem;
        }
        .p-6 {
            padding: 1.5rem;
        }
        .bg-gray-900 {
            background-color: #0f172a;
        }
        .rounded-lg {
            border-radius: 0.5rem;
        }
        .text-gray-100 {
            color: #f3f4f6;
        }
        .justify-between {
            justify-content: space-between;
        }
        .items-center {
            align-items: center;
        }
        .text-2xl {
            font-size: 1.5rem;
        }
        .font-bold {
            font-weight: 700;
        }
        .text-blue-300 {
            color: #60a5fa;
        }
        .bg-blue-900 {
            background-color: #1e40af;
        }
        .text-blue-100 {
            color: #dbeafe;
        }
        .px-4 {
            padding-left: 1rem;
            padding-right: 1rem;
        }
        .py-2 {
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }
        .text-sm {
            font-size: 0.875rem;
        }
        .font-semibold {
            font-weight: 600;
        }
        .bg-gray-800 {
            background-color: #1a2234;
        }
        .p-4 {
            padding: 1rem;
        }
        .p-3 {
            padding: 0.75rem;
        }
        .text-xl {
            font-size: 1.25rem;
        }
        .mb-4 {
            margin-bottom: 1rem;
        }
        .mb-8 {
            margin-bottom: 2rem;
        }
        .mb-6 {
            margin-bottom: 1.5rem;
        }
        .mb-2 {
            margin-bottom: 0.5rem;
        }
        .mb-1 {
            margin-bottom: 0.25rem;
        }
        .relative {
            position: relative;
        }
        .text-center {
            text-align: center;
        }
        .grid {
            display: grid;
        }
        .gap-3 {
            gap: 0.75rem;
        }
        .gap-4 {
            gap: 1rem;
        }
        .gap-6 {
            gap: 1.5rem;
        }
        .bg-gray-700 {
            background-color: #374151;
        }
        .border-l-4 {
            border-left-width: 4px;
        }
        .border-green-500 {
            border-left-color: #10b981;
        }
        .border-yellow-500 {
            border-left-color: #f59e0b;
        }
        .border-blue-500 {
            border-left-color: #3b82f6;
        }
        .text-green-400 {
            color: #34d399;
        }
        .text-xs {
            font-size: 0.75rem;
        }
        .text-gray-300 {
            color: #d1d5db;
        }
        .text-gray-400 {
            color: #9ca3af;
        }
        .border-collapse {
            border-collapse: collapse;
        }
        .border-b {
            border-bottom-width: 1px;
        }
        .border-gray-600 {
            border-color: #4b5563;
        }
        .text-left {
            text-align: left;
        }
        .text-right {
            text-align: right;
        }
        .h-64 {
            height: 16rem;
        }
        
        /* DataTables overwrites */
        .dataTables_wrapper {
            color: #f3f4f6;
            padding: 0;
            margin-bottom: 15px;
        }
        .dataTables_length, .dataTables_filter {
            padding: 8px 0;
            margin-bottom: 10px;
        }
        .dataTables_length select, .dataTables_filter input {
            background-color: #374151;
            color: #f3f4f6;
            border: 1px solid #4b5563;
            border-radius: 4px;
            padding: 4px 8px;
        }
        
        /* Melhor visibilidade para controles de paginação */
        .dataTables_info, .dataTables_paginate {
            padding: 12px 0;
            color: #d1d5db;
            font-size: 14px;
            margin-top: 10px;
        }
        .dataTables_paginate {
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }
        .dataTables_paginate .paginate_button {
            color: #ffffff !important;
            border: 1px solid #4b5563 !important;
            border-radius: 4px;
            background: #1f2937 !important;
            margin: 0 4px;
            padding: 6px 12px !important;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
            font-weight: 500 !important;
            min-width: 32px !important;
            text-align: center !important;
            cursor: pointer !important;
        }
        .dataTables_paginate .paginate_button.current {
            color: #ffffff !important;
            background: linear-gradient(to bottom, #3b82f6, #1e40af) !important;
            border: 1px solid #60a5fa !important;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5) !important;
            font-weight: bold !important;
        }
        .dataTables_paginate .paginate_button:hover {
            color: #ffffff !important;
            background: linear-gradient(to bottom, #60a5fa, #3b82f6) !important;
            border: 1px solid #93c5fd !important;
            box-shadow: 0 0 15px rgba(96, 165, 250, 0.6) !important;
            transform: translateY(-1px) !important;
            transition: all 0.2s !important;
        }
        .dataTables_paginate .ellipsis {
            color: #ffffff !important;
            font-weight: bold !important;
            font-size: 18px !important;
            padding: 0 5px !important;
            text-shadow: 0 0 3px rgba(255, 255, 255, 0.5) !important;
        }
        
        /* Garantir visibilidade da paginação */
        .dataTables_paginate .previous,
        .dataTables_paginate .next {
            display: inline-block !important;
        }
        
        /* Sombra para cards */
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
        }
        
        /* Linhas alternadas na tabela */
        tr.row-odd {
            background-color: #2d3748;
        }
        tr.row-even {
            background-color: #1e293b;
        }
        
        /* Badge de estatísticas */
        .stats-badge {
            background-color: #1e40af;
            color: #dbeafe;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            font-weight: 600;
        }
        
        .stats-badge .text-red-500 {
            color: #ef4444;
            text-shadow: 0 0 5px rgba(239, 68, 68, 0.5);
        }
        
        /* Card de caminho */
        .path-card {
            background-color: #1a2234;
            padding: 0.75rem;
            border-radius: 0.375rem;
            margin-bottom: 0.5rem;
            border-left: 4px solid #3b82f6;
            word-break: break-all;
        }
        
        /* Card de resumo */
        .summary-card {
            background-color: #374151;
            padding: 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }
        .summary-card h3 {
            color: #60a5fa;
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }
        .summary-card p {
            font-size: 1.5rem;
            font-weight: 700;
            color: #f3f4f6;
        }
        .summary-card .text-red-500 {
            color: #ef4444 !important;
        }
        
        /* Descrição de seção */
        .section-description {
            color: #d1d5db;
            font-size: 0.875rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }
        
        /* Grid responsiva */
        @media (min-width: 768px) {
            .grid-cols-2 {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
            .grid-cols-3 {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }
        }

        /* Compatibilidade com DataTables */
        table.dataTable tbody tr {
            background-color: transparent;
        }
        
        .dataTables_wrapper .dataTables_length, 
        .dataTables_wrapper .dataTables_filter, 
        .dataTables_wrapper .dataTables_info, 
        .dataTables_wrapper .dataTables_processing, 
        .dataTables_wrapper .dataTables_paginate {
            color: #d1d5db;
        }
        
        /* Botão de cópia */
        .copy-btn {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            background-color: #1e40af;
            color: #dbeafe;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .copy-btn:hover {
            background-color: #2563eb;
        }
        .copy-btn svg {
            width: 14px;
            height: 14px;
        }
        
        /* Notificação de cópia */
        .copy-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #059669;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.25rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: translateY(-20px);
            transition: opacity 0.3s, transform 0.3s;
            z-index: 1000;
        }
        .copy-notification.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Botões de cópia na tabela */
        .copy-cell-btn {
            background-color: transparent;
            color: #60a5fa;
            border: none;
            cursor: pointer;
            padding: 2px 5px;
            border-radius: 3px;
            font-size: 12px;
            display: inline-flex;
            align-items: center;
            margin-left: 5px;
            opacity: 0.5;
            transition: opacity 0.2s, background-color 0.2s;
        }
        tr:hover .copy-cell-btn {
            opacity: 1;
        }
        .copy-cell-btn:hover {
            background-color: rgba(59, 130, 246, 0.2);
        }
        
        /* Estilo para arquivos processados */
        tr.file-done {
            background-color: rgba(16, 185, 129, 0.2) !important;
        }
        tr.file-done td {
            color: #34d399 !important;
        }
        
        /* Estilo para checkbox */
        .file-check {
            accent-color: #10b981;
            transform: scale(1.2);
        }
        
        /* Créditos do desenvolvedor */
        .developer-credit {
            margin-top: 0.5rem;
            font-weight: 500;
            color: #60a5fa;
            letter-spacing: 0.5px;
        }
        
        /* Barra de Progresso */
        .progress-container {
            position: relative;
            height: 180px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }
        
        .progress-bar-container {
            width: 100%;
            height: 30px;
            background-color: #1f2937;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
            margin-bottom: 25px;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #10b981, #34d399);
            border-radius: 15px;
            transition: width 0.5s ease;
            width: 0%;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }
        
        .progress-details {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 10px;
        }
        
        .progress-stat {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px 15px;
            background-color: #2d3748;
            border-radius: 8px;
            width: 48%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .progress-stat.pending {
            border-left: 4px solid #ef4444;
        }
        
        .progress-stat.complete {
            border-left: 4px solid #10b981;
        }
        
        .progress-stat-title {
            font-size: 0.8rem;
            color: #d1d5db;
            margin-bottom: 5px;
        }
        
        .progress-stat-value {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .pending .progress-stat-value {
            color: #ef4444;
        }
        
        .complete .progress-stat-value {
            color: #10b981;
        }
        
        .progress-percentage-display {
            position: absolute;
            top: -5px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(to bottom, #3b82f6, #1e40af);
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
            padding: 5px 15px;
            border-radius: 20px;
            box-shadow: 0 2px 10px rgba(59, 130, 246, 0.4);
            z-index: 5;
            min-width: 80px;
            text-align: center;
        }
        
        /* Animação da barra de progresso */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }
        
        .progress-bar.pulse {
            animation: pulse 2s infinite;
        }
        
        /* Ícones de estatísticas */
        .progress-stat-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .pending .progress-stat-icon {
            color: #ef4444;
        }
        
        .complete .progress-stat-icon {
            color: #10b981;
        }
        
        /* Legenda de cores para o gráfico de tamanho */
        .size-categories-legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 15px;
            gap: 8px;
        }
        
        .size-category-item {
            display: flex;
            align-items: center;
            margin-right: 10px;
        }
        
        .size-category-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
            margin-right: 5px;
        }
        
        .size-category-label {
            font-size: 12px;
            color: #d1d5db;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="flex flex-col space-y-6 p-6 bg-gray-900 rounded-lg text-gray-100">
            <div class="flex justify-between items-center">
                <h1 class="text-2xl font-bold text-blue-300">Relatório de Comparação: Documentos vs Backup</h1>
                <div class="stats-badge">
                    Total: <span id="totalFiles" class="text-red-500 font-bold">42</span> arquivos ausentes na Pasta 2
                </div>
            </div>
            
            <p class="section-description">
                Este relatório apresenta os arquivos encontrados apenas na Pasta 1 e não presentes na Pasta 2.
                Ele é gerado através da comparação entre os dois caminhos analisados, identificando quais arquivos precisam ser sincronizados.
            </p>
            
            <!-- Caminhos analisados -->
            <div class="bg-gray-800 p-4 rounded-lg card-shadow">
                <h2 class="text-xl font-bold mb-2 text-blue-300">Caminhos Analisados</h2>
                <p class="section-description">
                    Abaixo estão os caminhos usados para a análise de arquivos. A comparação verifica quais arquivos existem na Pasta 1 mas não foram encontrados na Pasta 2.
                </p>
                <div class="grid grid-cols-1 gap-3">
                    <div class="path-card">
                        <div class="flex justify-between items-center">
                            <h3 class="text-sm font-semibold text-blue-300 mb-1">Pasta 1:</h3>
                            <button onclick="copyToClipboard('folder1Path')" class="copy-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                </svg>
                                Copiar
                            </button>
                        </div>
                        <p id="folder1Path" class="text-gray-300">C:\Users\mathews.abreu\Documentos</p>
                    </div>
                    
                    <div class="path-card">
                        <div class="flex justify-between items-center">
                            <h3 class="text-sm font-semibold text-blue-300 mb-1">Pasta 2:</h3>
                            <button onclick="copyToClipboard('folder2Path')" class="copy-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                </svg>
                                Copiar
                            </button>
                        </div>
                        <p id="folder2Path" class="text-gray-300">D:\Backup\Documentos</p>
                    </div>
                </div>
            </div>
            
            <!-- Resumo da análise -->
            <div class="bg-gray-800 p-4 rounded-lg card-shadow">
                <h2 class="text-xl font-bold mb-2 text-blue-300">Resumo da Análise</h2>
                <p class="section-description">
                    Resumo quantitativo da análise de arquivos. "Arquivos Ausentes" representa o número de arquivos encontrados na Pasta 1 mas que não existem na Pasta 2.
                </p>
                <div class="grid grid-cols-3 gap-4">
                    <div class="summary-card">
                        <h3>Total Analisado</h3>
                        <p id="totalAnalyzed">2,358</p>
                    </div>
                    
                    <div class="summary-card">
                        <h3>Arquivos Ausentes</h3>
                        <p id="uniqueFiles" class="text-red-500">42</p>
                    </div>
                    
                    <div class="summary-card">
                        <h3>Tamanho Total</h3>
                        <p id="totalSize">153.75 MB</p>
                    </div>
                </div>
            </div>
            
            <!-- Gráficos de análise -->
            <div class="grid grid-cols-1 grid-cols-2 gap-6">
                <div class="bg-gray-800 p-4 rounded-lg card-shadow">
                    <h2 class="text-xl font-bold mb-2 text-blue-300">Distribuição por Tamanho</h2>
                    <p class="section-description">
                        Mostra como os arquivos ausentes estão distribuídos nas categorias de tamanho.
                    </p>
                    <div class="h-64">
                        <canvas id="sizeChart"></canvas>
                    </div>
                    <!-- Legenda de cores para o gráfico de tamanho -->
                    <div class="size-categories-legend">
                        <div class="size-category-item">
                            <div class="size-category-color" style="background-color: #A86BD2;"></div>
                            <div class="size-category-label">0B a 10KB</div>
                        </div>
                        <div class="size-category-item">
                            <div class="size-category-color" style="background-color: #1E90FF;"></div>
                            <div class="size-category-label">10KB a 100KB</div>
                        </div>
                        <div class="size-category-item">
                            <div class="size-category-color" style="background-color: #32CD32;"></div>
                            <div class="size-category-label">100KB a 10MB</div>
                        </div>
                        <div class="size-category-item">
                            <div class="size-category-color" style="background-color: #FFA500;"></div>
                            <div class="size-category-label">10MB a 1GB</div>
                        </div>
                        <div class="size-category-item">
                            <div class="size-category-color" style="background-color: #FF0000;"></div>
                            <div class="size-category-label">Acima de 1GB</div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-800 p-4 rounded-lg card-shadow">
                    <h2 class="text-xl font-bold mb-2 text-blue-300">Top 10 Extensões</h2>
                    <p class="section-description">
                        Apresenta as 10 extensões de arquivo mais comuns entre os arquivos exclusivos. Útil para identificar quais tipos de conteúdo precisam ser sincronizados com maior frequência.
                    </p>
                    <div class="h-64">
                        <canvas id="extensionChart"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- Gráficos: Arquivos por Diretório e Progresso -->
            <div class="grid grid-cols-1 grid-cols-2 gap-6">
                <div class="bg-gray-800 p-4 rounded-lg card-shadow">
                    <h2 class="text-xl font-bold mb-2 text-blue-300">Top 5 Arquivos por Diretório</h2>
                    <p class="section-description">
                        Identifica quais subpastas contêm a maior quantidade de arquivos exclusivos. Ajuda a visualizar quais pastas precisam de atenção prioritária na sincronização de dados.
                    </p>
                    <div class="h-64">
                        <canvas id="dirChart"></canvas>
                    </div>
                </div>
                
                <div class="bg-gray-800 p-4 rounded-lg card-shadow">
                    <h2 class="text-xl font-bold mb-2 text-blue-300">Progresso de Sincronização</h2>
                    <p class="section-description">
                        Acompanhe o progresso da sincronização dos arquivos. Use os checkboxes na tabela abaixo para marcar os arquivos que já foram processados.
                    </p>
                    
                    <!-- Barra de Progresso -->
                    <div class="progress-container">
                        <div class="progress-percentage-display" id="progressPercentage">0%</div>
                        
                        <div class="progress-bar-container">
                            <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                        </div>
                        
                        <div class="progress-details">
                            <div class="progress-stat pending">
                                <div class="progress-stat-icon">⚠️</div>
                                <div class="progress-stat-title">Pendentes</div>
                                <div class="progress-stat-value" id="pendingFiles">42</div>
                            </div>
                            
                            <div class="progress-stat complete">
                                <div class="progress-stat-icon">✅</div>
                                <div class="progress-stat-title">Concluídos</div>
                                <div class="progress-stat-value" id="completedFiles">0</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Tabela de arquivos -->
            <div class="bg-gray-800 p-4 rounded-lg card-shadow">
                <h2 class="text-xl font-bold mb-2 text-blue-300">Lista de Arquivos Ausentes na Pasta 2</h2>
                <p class="section-description">
                    Esta tabela apresenta todos os arquivos que existem na Pasta 1 mas não foram encontrados na Pasta 2. 
                    Use os checkboxes para marcar os arquivos que já foram processados ou sincronizados.
                </p>
                <div class="overflow-x-auto">
                    <table id="filesTable" class="min-w-full border-collapse">
                        <thead>
                            <tr>
                                <th class="p-3 border-b border-gray-600 bg-gray-800 text-center font-medium text-blue-300" style="width: 50px;">Ação</th>
                                <th class="p-3 border-b border-gray-600 bg-gray-800 text-left font-medium text-blue-300">#</th>
                                <th class="p-3 border-b border-gray-600 bg-gray-800 text-left font-medium text-blue-300">Nome do Arquivo</th>
                                <th class="p-3 border-b border-gray-600 bg-gray-800 text-left font-medium text-blue-300">Caminho Completo</th>
                                <th class="p-3 border-b border-gray-600 bg-gray-800 text-right font-medium text-blue-300">Tamanho</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Os arquivos serão gerados dinamicamente pelo JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="text-center text-gray-400 text-sm">
                Relatório gerado em <span id="reportDate">06/03/2025 15:42:30</span> | Comparador de Pastas
                <br><span class="developer-credit">Desenvolvido por Mathews Buzetti</span>
            </div>
        </div>
    </div>
    
    <div id="copyNotification" class="copy-notification">Copiado para a área de transferência!</div>
    
    <script>
        // Dados simulados para a tabela
        const mockFiles = [
            { id: 1, name: "Relatório_Anual_2024.docx", path: "C:\\Users\\mathews.abreu\\Documentos\\Relatórios\\Relatório_Anual_2024.docx", size: "3.45 MB" },
            { id: 2, name: "Apresentação_Q1.pptx", path: "C:\\Users\\mathews.abreu\\Documentos\\Apresentações\\Apresentação_Q1.pptx", size: "8.72 MB" },
            { id: 3, name: "Planilha_Financeira.xlsx", path: "C:\\Users\\mathews.abreu\\Documentos\\Financeiro\\Planilha_Financeira.xlsx", size: "2.18 MB" },
            { id: 4, name: "Contrato_Cliente.pdf", path: "C:\\Users\\mathews.abreu\\Documentos\\Contratos\\Contrato_Cliente.pdf", size: "1.53 MB" },
            { id: 5, name: "Requisitos_Projeto.txt", path: "C:\\Users\\mathews.abreu\\Documentos\\Projetos\\Requisitos_Projeto.txt", size: "42.7 KB" },
            { id: 6, name: "Logo_Empresa.png", path: "C:\\Users\\mathews.abreu\\Documentos\\Marketing\\Logo_Empresa.png", size: "256 KB" },
            { id: 7, name: "Manual_Usuario.pdf", path: "C:\\Users\\mathews.abreu\\Documentos\\Manuais\\Manual_Usuario.pdf", size: "4.32 MB" },
            { id: 8, name: "Ata_Reuniao.docx", path: "C:\\Users\\mathews.abreu\\Documentos\\Reuniões\\Ata_Reuniao.docx", size: "1.25 MB" },
            { id: 9, name: "Plano_Estrategico.pptx", path: "C:\\Users\\mathews.abreu\\Documentos\\Estratégia\\Plano_Estrategico.pptx", size: "7.84 MB" },
            { id: 10, name: "Analise_Mercado.xlsx", path: "C:\\Users\\mathews.abreu\\Documentos\\Análises\\Analise_Mercado.xlsx", size: "3.65 MB" },
            { id: 11, name: "Política_Privacidade.pdf", path: "C:\\Users\\mathews.abreu\\Documentos\\Jurídico\\Política_Privacidade.pdf", size: "890 KB" },
            { id: 12, name: "Cronograma_Projeto.xlsx", path: "C:\\Users\\mathews.abreu\\Documentos\\Projetos\\Cronograma_Projeto.xlsx", size: "1.12 MB" },
            { id: 13, name: "Organograma.png", path: "C:\\Users\\mathews.abreu\\Documentos\\RH\\Organograma.png", size: "340 KB" },
            { id: 14, name: "Planejamento_2025.docx", path: "C:\\Users\\mathews.abreu\\Documentos\\Planejamento\\Planejamento_2025.docx", size: "2.23 MB" },
            { id: 15, name: "Orçamento_Anual.xlsx", path: "C:\\Users\\mathews.abreu\\Documentos\\Financeiro\\Orçamento_Anual.xlsx", size: "1.78 MB" },
            { id: 16, name: "Portfolio_Produtos.pdf", path: "C:\\Users\\mathews.abreu\\Documentos\\Marketing\\Portfolio_Produtos.pdf", size: "15.4 MB" },
            { id: 17, name: "Configuracao_Sistema.txt", path: "C:\\Users\\mathews.abreu\\Documentos\\TI\\Configuracao_Sistema.txt", size: "18.5 KB" },
            { id: 18, name: "Relatorio_Vendas.xlsx", path: "C:\\Users\\mathews.abreu\\Documentos\\Vendas\\Relatorio_Vendas.xlsx", size: "5.67 MB" },
            { id: 19, name: "Certificado_ISO.pdf", path: "C:\\Users\\mathews.abreu\\Documentos\\Certificações\\Certificado_ISO.pdf", size: "1.15 MB" },
            { id: 20, name: "Estudo_Caso.docx", path: "C:\\Users\\mathews.abreu\\Documentos\\Estudos\\Estudo_Caso.docx", size: "3.28 MB" },
            { id: 21, name: "Especificação_Técnica.docx", path: "C:\\Users\\mathews.abreu\\Documentos\\Técnico\\Especificação_Técnica.docx", size: "2.76 MB" },
            { id: 22, name: "Fluxograma_Processo.png", path: "C:\\Users\\mathews.abreu\\Documentos\\Processos\\Fluxograma_Processo.png", size: "425 KB" },
            { id: 23, name: "Inventario_TI.xlsx", path: "C:\\Users\\mathews.abreu\\Documentos\\TI\\Inventario_TI.xlsx", size: "1.32 MB" },
            { id: 24, name: "Contrato_Fornecedor.pdf", path: "C:\\Users\\mathews.abreu\\Documentos\\Contratos\\Contrato_Fornecedor.pdf", size: "2.45 MB" },
            { id: 25, name: "Manual_Interno.pdf", path: "C:\\Users\\mathews.abreu\\Documentos\\Manuais\\Manual_Interno.pdf", size: "6.78 MB" },
            { id: 26, name: "Diretrizes_Marca.pdf", path: "C:\\Users\\mathews.abreu\\Documentos\\Marketing\\Diretrizes_Marca.pdf", size: "4.92 MB" },
            { id: 27, name: "Relatório_Despesas.xlsx", path: "C:\\Users\\mathews.abreu\\Documentos\\Financeiro\\Relatório_Despesas.xlsx", size: "1.25 MB" },
            { id: 28, name: "Timeline_Projeto.pptx", path: "C:\\Users\\mathews.abreu\\Documentos\\Projetos\\Timeline_Projeto.pptx", size: "3.56 MB" },
            { id: 29, name: "Plano_Marketing.docx", path: "C:\\Users\\mathews.abreu\\Documentos\\Marketing\\Plano_Marketing.docx", size: "2.87 MB" },
            { id: 30, name: "Lista_Contatos.xlsx", path: "C:\\Users\\mathews.abreu\\Documentos\\Contatos\\Lista_Contatos.xlsx", size: "765 KB" },
            { id: 31, name: "Backup_Database.sql", path: "C:\\Users\\mathews.abreu\\Documentos\\TI\\Backup_Database.sql", size: "24.5 MB" },
            { id: 32, name: "Política_Segurança.pdf", path: "C:\\Users\\mathews.abreu\\Documentos\\Jurídico\\Política_Segurança.pdf", size: "1.08 MB" },
            { id: 33, name: "Anotações_Reunião.txt", path: "C:\\Users\\mathews.abreu\\Documentos\\Reuniões\\Anotações_Reunião.txt", size: "32.6 KB" },
            { id: 34, name: "Matriz_SWOT.pptx", path: "C:\\Users\\mathews.abreu\\Documentos\\Estratégia\\Matriz_SWOT.pptx", size: "2.13 MB" },
            { id: 35, name: "Análise_Concorrência.docx", path: "C:\\Users\\mathews.abreu\\Documentos\\Análises\\Análise_Concorrência.docx", size: "3.42 MB" },
            { id: 36, name: "Planilha_Cálculos.xlsx", path: "C:\\Users\\mathews.abreu\\Documentos\\Financeiro\\Planilha_Cálculos.xlsx", size: "1.95 MB" },
            { id: 37, name: "Instruções_Instalação.txt", path: "C:\\Users\\mathews.abreu\\Documentos\\TI\\Instruções_Instalação.txt", size: "28.4 KB" },
            { id: 38, name: "Catálogo_2024.pdf", path: "C:\\Users\\mathews.abreu\\Documentos\\Marketing\\Catálogo_2024.pdf", size: "18.7 MB" },
            { id: 39, name: "Contrato_Parceria.pdf", path: "C:\\Users\\mathews.abreu\\Documentos\\Contratos\\Contrato_Parceria.pdf", size: "2.24 MB" },
            { id: 40, name: "Avaliação_Desempenho.docx", path: "C:\\Users\\mathews.abreu\\Documentos\\RH\\Avaliação_Desempenho.docx", size: "1.68 MB" },
            { id: 41, name: "Proposta_Comercial.pdf", path: "C:\\Users\\mathews.abreu\\Documentos\\Vendas\\Proposta_Comercial.pdf", size: "3.95 MB" },
            { id: 42, name: "Código_Conduta.pdf", path: "C:\\Users\\mathews.abreu\\Documentos\\RH\\Código_Conduta.pdf", size: "1.37 MB" }
        ];

        // Salvar/restaurar estado dos arquivos processados
        function saveFileState() {
            const checkboxStates = {};
            document.querySelectorAll('.file-check').forEach(checkbox => {
                checkboxStates[checkbox.id] = checkbox.checked;
            });
            localStorage.setItem('fileProcessingState', JSON.stringify(checkboxStates));
            updateProgressDisplay();
        }

        function restoreFileState() {
            const savedState = localStorage.getItem('fileProcessingState');
            if (savedState) {
                const checkboxStates = JSON.parse(savedState);
                document.querySelectorAll('.file-check').forEach(checkbox => {
                    if (checkboxStates[checkbox.id] !== undefined) {
                        checkbox.checked = checkboxStates[checkbox.id];
                        if (checkbox.checked) {
                            const rowId = checkbox.id.replace('check-', 'row-');
                            const row = document.getElementById(rowId);
                            if (row) {
                                row.classList.add('file-done');
                            }
                        }
                    }
                });
                updateProgressDisplay();
            }
        }

        // Atualizar o progresso
        function updateProgressDisplay() {
            const totalFiles = mockFiles.length;
            let completedFiles = 0;
            
            document.querySelectorAll('.file-check').forEach(checkbox => {
                if (checkbox.checked) {
                    completedFiles++;
                }
            });
            
            const percentage = Math.round((completedFiles / totalFiles) * 100);
            
            // Atualizar barra de progresso
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = `${percentage}%`;
            
            // Atualizar texto de porcentagem
            document.getElementById('progressPercentage').textContent = `${percentage}%`;
            
            // Atualizar contadores
            document.getElementById('pendingFiles').textContent = totalFiles - completedFiles;
            document.getElementById('completedFiles').textContent = completedFiles;
            
            // Adicionar/remover classe de animação
            if (percentage > 0 && percentage < 100) {
                progressBar.classList.add('pulse');
            } else {
                progressBar.classList.remove('pulse');
            }
        }

        // Função para marcar/desmarcar arquivo
        function toggleRowDone(checkbox, rowId) {
            const row = document.getElementById(rowId);
            
            if (checkbox.checked) {
                row.classList.add('file-done');
            } else {
                row.classList.remove('file-done');
            }
            
            saveFileState();
        }

        // Funções para manipulação de cópia
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const text = element.innerText || element.textContent;
            
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text)
                    .then(() => {
                        showCopyNotification();
                    })
                    .catch(err => {
                        console.error('Erro ao copiar texto: ', err);
                        fallbackCopyTextToClipboard(text);
                    });
            } else {
                fallbackCopyTextToClipboard(text);
            }
        }
        
        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            
            textArea.style.position = "fixed";
            textArea.style.left = "-999999px";
            textArea.style.top = "-999999px";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showCopyNotification();
            } catch (err) {
                console.error('Fallback: Erro ao copiar texto', err);
                alert('Não foi possível copiar o texto. Seu navegador pode não suportar esta funcionalidade.');
            }
            
            document.body.removeChild(textArea);
        }
        
        function showCopyNotification() {
            const notification = document.getElementById('copyNotification');
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }

        // Gerar tabela de arquivos
        function generateFilesTable() {
            const tbody = document.querySelector('#filesTable tbody');
            tbody.innerHTML = '';
            
            mockFiles.forEach((file, index) => {
                const rowClass = index % 2 === 0 ? 'row-odd' : 'row-even';
                const row = document.createElement('tr');
                row.className = rowClass;
                row.id = `row-${file.id}`;
                
                row.innerHTML = `
                    <td class="p-3 border-b border-gray-600 text-center">
                        <input type="checkbox" id="check-${file.id}" class="file-check w-5 h-5 cursor-pointer" 
                               onchange="toggleRowDone(this, 'row-${file.id}')" />
                    </td>
                    <td class="p-3 border-b border-gray-600">${file.id}</td>
                    <td class="p-3 border-b border-gray-600 font-medium">
                        ${file.name}
                        <button class="copy-cell-btn" onclick="copyToClipboard('fullPath${file.id}')" title="Copiar caminho completo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                        <span id="fullPath${file.id}" style="display:none">${file.path}</span>
                    </td>
                    <td class="p-3 border-b border-gray-600">
                        ${file.path}
                        <button class="copy-cell-btn" onclick="copyToClipboard('fullPath2${file.id}')" title="Copiar caminho completo">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                        <span id="fullPath2${file.id}" style="display:none">${file.path}</span>
                    </td>
                    <td class="p-3 border-b border-gray-600 text-right">${file.size}</td>
                `;
                
                tbody.appendChild(row);
            });
        }

        // Inicialização dos gráficos e tabela
        document.addEventListener('DOMContentLoaded', function() {
            // Gerar tabela de arquivos
            generateFilesTable();
            
            // Inicializar DataTable
            const table = $('#filesTable').DataTable({
                language: {
                    url: '//cdn.datatables.net/plug-ins/1.10.21/i18n/Portuguese-Brasil.json'
                },
                pageLength: 10,
                lengthMenu: [5, 10, 25, 50],
                autoWidth: false,
                drawCallback: function() {
                    // Restaurar estado dos checkboxes após redraw
                    restoreFileState();
                }
            });
            
            // Dados para os gráficos
            const sizeData = [
                { label: 'Arquivos 0B a 10KB', value: 5 },
                { label: 'Arquivos 10KB a 100KB', value: 12 },
                { label: 'Arquivos 100KB a 10MB', value: 18 },
                { label: 'Arquivos 10MB a 1GB', value: 6 },
                { label: 'Arquivos Acima de 1GB', value: 1 }
            ];
            
            const extensionData = [
                { label: '.docx', value: 8 },
                { label: '.pdf', value: 10 },
                { label: '.xlsx', value: 7 },
                { label: '.pptx', value: 5 },
                { label: '.txt', value: 4 },
                { label: '.png', value: 3 },
                { label: '.jpg', value: 2 },
                { label: '.sql', value: 1 },
                { label: '.zip', value: 1 },
                { label: '.html', value: 1 }
            ];
            
            const dirData = [
                { label: 'Projetos (7 arquivos)', value: 7 },
                { label: 'Financeiro (6 arquivos)', value: 6 },
                { label: 'Marketing (6 arquivos)', value: 6 },
                { label: 'TI (5 arquivos)', value: 5 },
                { label: 'Contratos (4 arquivos)', value: 4 }
            ];

            // Gráfico de tamanho
            const sizeCtx = document.getElementById('sizeChart').getContext('2d');
            const sizeChart = new Chart(sizeCtx, {
                type: 'bar',
                data: {
                    labels: sizeData.map(item => item.label),
                    datasets: [{
                        label: 'Quantidade de Arquivos',
                        data: sizeData.map(item => item.value),
                        backgroundColor: ['#A86BD2', '#1E90FF', '#32CD32', '#FFA500', '#FF0000'],
                        borderColor: '#111827',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(243, 244, 246, 0.1)'
                            },
                            ticks: {
                                color: '#d1d5db'
                            }
                        },
                        y: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#d1d5db',
                                font: {
                                    weight: 'bold'
                                }
                            }
                        }
                    }
                }
            });
            
            // Gráfico de extensões
            const extCtx = document.getElementById('extensionChart').getContext('2d');
            const extChart = new Chart(extCtx, {
                type: 'bar',
                data: {
                    labels: extensionData.map(item => item.label),
                    datasets: [{
                        label: 'Quantidade',
                        data: extensionData.map(item => item.value),
                        backgroundColor: '#3b82f6',
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(243, 244, 246, 0.1)'
                            },
                            ticks: {
                                color: '#d1d5db'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#d1d5db'
                            }
                        }
                    }
                }
            });
            
            // Gráfico de diretórios
            const dirCtx = document.getElementById('dirChart').getContext('2d');
            const dirChart = new Chart(dirCtx, {
                type: 'bar',
                data: {
                    labels: dirData.map(item => item.label),
                    datasets: [{
                        label: 'Arquivos',
                        data: dirData.map(item => item.value),
                        backgroundColor: '#10b981',
                        borderWidth: 0
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(243, 244, 246, 0.1)'
                            },
                            ticks: {
                                color: '#d1d5db'
                            }
                        },
                        y: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#d1d5db'
                            }
                        }
                    }
                }
            });
            
            // Restaurar estado salvo
            restoreFileState();
            
            // Limpar estado (descomente para resetar o progresso)
            // localStorage.removeItem('fileProcessingState');
        });
    </script>
</body>
</html>
